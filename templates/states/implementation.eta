# Current Task: Implementation according to Plan

- Issue: [#<%= it.issue.number %>](<%- it.issue.url %>) — <%- it.issue.title %>
- State: <%- it.issue.state %>

## Task Description

- A detailed plan has already been worked out. Yor task is to implement everything specified in `<%- it.paths.plan %>`.
- Modify only code/docs/tests required by the plan.
- Create or update `<%- it.paths.qa %>` with a concise QA checklist.
- Append a line to `<%- it.paths.costs %>` with:
  - timestamp (UTC), provider, model, input_tokens, output_tokens, total_tokens, estUSD, headers snapshot (remaining/reset if available).
- Do **not** change `PLAN.md`.

## Context

- Labels: <%= it.labels.length ? it.labels.join(', ') : '—' %>
<% if (it.pr) { %>
- PR: [#<%= it.pr.number %>](<%- it.pr.url %>)
- Draft: <%= it.pr.isDraft ? 'yes' : 'no' %>
- Branch: <%- it.pr.headRef %> → <%- it.pr.baseRef %>
- Commits: <%= typeof it.pr.commits === 'number' ? it.pr.commits : 'unknown' %>
- Mergeable: <%- it.pr.mergeableState || 'unknown' %>
<% } else { %>
- _No associated pull request._
<% } %>

### Recent Feedback

<% if (it.comments.length) { %>
<% it.comments.forEach(function(comment) { %>
- <%- comment.updatedAt %> — [<%- comment.author %>](<%- comment.url %>): <%- comment.bodySnippet %>
<% }); %>
<% } else { %>
- _No comments captured for this state._
<% } %>

## Workspace Paths

- Task: <%- it.paths.task %>
- Plan: <%- it.paths.plan %>
- QA: <%- it.paths.qa %>
- Costs: <%- it.paths.costs %>
- PR metadata: <%- it.paths.pr %>